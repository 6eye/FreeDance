--- memcheck with valgrind ---

$ valgrind -v ./tron

--- Options ---

dans ~/.valgrindrc :
--memcheck:leak-check=full
--show-reachable=yes
--suppressions=/home/blabla/errors.supp

--- Ignorer les erreures externes au codes ---

$ valgrind -v --gen-suppressions=all --log-file=logs --error-limit=no ./tron

--- Massif ---
# Massif est un sous-outil pour Valgrind, permettant de surveiller les usages de la pile du programme.
# Il faut ignorer les allocations de mémoire Qt (qMalloc…).

$ valgrind --tool=massif --alloc-fn='qMalloc()' ./tron

-- Massif-Visualizer ---
apt-get, que sous testing, non disponible en stable :-(

--- compilation d'opencv-3.2.0 ---
$ apt-get install build-essential gcc cmake subversion mesa-common-dev libgtk2.0-dev pkg-config libpng-dev libjpeg-dev libtiff5-dev libjasper-dev python-dev libavformat-dev libdc1394-22-dev libgtk2.0-dev libcv-dev libcvaux-dev
$ mkdir build
$ cd build
$ cmake -D WITH_OPENGL=ON -D WITH_QT=OFF -DENABLE_PRECOMPILED_HEADERS=OFF ..
$ make -j 2
$ make install
& ldconfig

Sur debian testing, pas de libjasper-dev. récupérer le paquet sur la stable :

/etc/apt/preferences.d/stable.pref

Package: *
Pin: release a=stable
Pin-Priority: 750

/etc/apt/preferences.d/testing.pref

Package: *
Pin: release a=testing
Pin-Priority: 900

modifier /etc/apt/sources.list.d en recopiant toutes les links et en remplaçant stretch par stable

--- compilation de freenect ---
& git clone https://github.com/OpenKinect/libfreenect

$ apt-get libusb-1.0-0.dev libxi-dev libxmu-dev freeglut3-dev
$ mkdir build
$ cd build
$ cmake ..
$ make

architecture 64 bits : si problème avec libGL.so, remplacer libGL.so par libGL.so.1, idem pour compiler le projet

$ sudo make install
$ sudo ldconfig /usr/local/lib

test :
$ /usr/local/bin/freenect-glview

créer un fichier, /etc/udev/rules.d/66-kinect.rules :

# ATTR{product}=="Xbox NUI Motor"
SUBSYSTEM=="usb", ATTR{idVendor}=="045e", ATTR{idProduct}=="02b0", MODE="0666"
# ATTR{product}=="Xbox NUI Audio"
SUBSYSTEM=="usb", ATTR{idVendor}=="045e", ATTR{idProduct}=="02ad", MODE="0666"
# ATTR{product}=="Xbox NUI Camera"
SUBSYSTEM=="usb", ATTR{idVendor}=="045e", ATTR{idProduct}=="02ae", MODE="0666"
# ATTR{product}=="Xbox NUI Motor"
SUBSYSTEM=="usb", ATTR{idVendor}=="045e", ATTR{idProduct}=="02c2", MODE="0666"
# ATTR{product}=="Xbox NUI Motor"
SUBSYSTEM=="usb", ATTR{idVendor}=="045e", ATTR{idProduct}=="02be", MODE="0666"
# ATTR{product}=="Xbox NUI Motor"
SUBSYSTEM=="usb", ATTR{idVendor}=="045e", ATTR{idProduct}=="02bf", MODE="0666"

adduser USER_NAME video

--- compilation de tron ---
$ apt-get install qt5-qmake qt5-default \
qtdeclarative5-dev

--- git_crypt ---
$ git-crypt keygen /path/to/keyfile # génère une clé de cryptage
$ cd tron
$ git-crypt init /path/to/keyfile
le fichier .gitattributes regroupe les fichier à crypter

Pour cloner :
$ git clone /path/to/repo
$ cd repo
$ git-crypt init /path/to/keyfile
